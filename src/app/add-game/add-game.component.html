<link rel="stylesheet" href="add-game.component.css">
<div class="container">
  <div *ngIf="gameForm">

    <div class="addGame">
      <mat-accordion class="example-headers-align" multi>
        <form [formGroup]="gameForm">
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Название
              </mat-panel-title>
              <mat-panel-description>
                {{getTitle()}}
                <mat-icon>title</mat-icon>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-form-field class="example-form">
              <label>
                <input matInput placeholder="Название игры" formControlName="title" (input)="checkForm()" required>
              </label>
              <mat-error *ngIf="gameForm.get('title').touched && gameForm.get('title').errors?.required">
                Необходимо заполнить поле
              </mat-error>
              <mat-error *ngIf="gameForm.get('title').touched && gameForm.get('title').errors?.minlength">
                Название должно быть не менее 6 символов
              </mat-error>
            </mat-form-field>
          </mat-expansion-panel>

          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                Описание
              </mat-panel-title>
              <mat-panel-description>
                {{getDescription()}}
                <mat-icon>description</mat-icon>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <mat-form-field class="example-form">
              <label>
                <input matInput placeholder="Описание игры" formControlName="description" (input)="checkForm()"
                       required>
              </label>
              <mat-error *ngIf="gameForm.get('description').touched && gameForm.get('description').errors?.required">
                Необходимо заполнить поле
              </mat-error>
              <mat-error *ngIf="gameForm.get('description').touched && gameForm.get('description').errors?.minlength">
                Описание должно быть не менее 6 символов
              </mat-error>
            </mat-form-field>
          </mat-expansion-panel>
          <mat-card class="photo">
            <div class="title">
              Фото
            </div>
            <div class="description">
              <input type="file" id="file" (change)="selectFile($event)" accept=".jpg, .jpeg, .png"
                     class="photo-input">
            </div>
            <div class="icon">
              <mat-icon>
                party_mode
              </mat-icon>
            </div>

          </mat-card>
        </form>
      </mat-accordion>
    </div>

    <app-question [game]="game"></app-question>
    <app-add-question [(game)]="game"></app-add-question>

    <div class="save-button">
      <a mat-raised-button href="games" color="primary" [disabled]="!gameForm.valid"
         (click)="this.isUpdateGame?updateGame():createGame(game)">Сохранить</a>
    </div>
  </div>
</div>
